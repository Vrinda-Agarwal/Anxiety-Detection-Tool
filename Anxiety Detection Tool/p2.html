<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <script src="https://use.fontawesome.com/d1341f9b7a.js"></script>
  <link rel="stylesheet" href="./p2.css">
  <title>MEGATHON</title>

</head>

<body>
    <div class="box2" id="b1">
        <h1 style="text-align:left ;">QUESTION 1: Do feel afraid when someone leaves you alone?</h1>
        <br>
        <p></p>
        <form id="studentForm">
        <br>
        <br>
        <a  style="text-align:center ;" type="button" class="buttonss" id="button1" href="#b2" onclick="question1()">YES</a>
        <br>
        <br>
        <a type="button" class="buttonss" id="buttonss" href="#b2">NO</a>
        </form>
    </div>
    <div class="box2" id="b2">
        <h1 style="text-align:left ;">QUESTION 2: Do you get nightmares regularly? </h1>
        <br>
        <p></p>
        <form id="studentForm">
        <br>
        <br>
        <a  style="text-align:center ;" type="button" class="buttonss" id="button2" href="#b3" onclick="question2()">YES</a>
        <br>
        <br>
        <a type="button" class="buttonss" id="buttonss" href="#b3">NO</a>
        </form>
    </div>
    <div class="box2" id="b3">
        <h1 style="text-align:left ;">QUESTION 3: Do you hide your emotions often?</h1>
        <br>
        <p></p>
        <form id="studentForm">
        <br>
        <br>
        <a  style="text-align:center ;" type="button" class="buttonss" id="button3" href="#b4" onclick="question3()">YES</a>
        <br>
        <br>
        <a type="button" class="buttonss" id="buttonss" href="#b4">NO</a>
        </form>
    </div>
    <div class="box2" id="b4">
        <h1 style="text-align:left ;">QUESTION 4: Do you feel exposure to trauma at work?</h1>
        <br>
        <p></p>
        <form id="studentForm">
        <br>
        <br>
        <a  style="text-align:center ;" type="button" class="buttonss" id="button4" href="#b5" onclick="question4()">YES</a>
        <br>
        <br>
        <a type="button" class="buttonss" id="buttonss" href="#b5">NO</a>
        </form>
    </div>
    <div class="box2" id="b5">
        <h1 style="text-align:left ;">QUESTION 5: Have you experience a major loss in your life? (Death of a family member/huge financial loss etc)</h1>
        <br>
        <p></p>
        <form id="studentForm">
        <br>
        <br>
        <a  style="text-align:center ;" type="button" class="buttonss" id="button5" href="#b6" onclick="question5()">YES</a>
        <br>
        <br>
        <a type="button" class="buttonss" id="buttonss" href="#b6">NO</a>
        </form>
        <!-- <a type="button" class="buttons" -->
    </div>
    <div class="box2" id="b6">
        <form id="studentForm">
        <br>
        <br>
        <input type="submit" class="buttonss" onclick="submit()"/>
        <br>
        <br>
        <!-- <a type="button" class="buttonss" id="buttonss" href="#b7">NO</a> -->
        </form>
    </div>

    <script>
        const txt1 = document.getElementById('uname');
        const age = document.getElementById('uage');
        const btn1 = document.getElementById('buttonss');
        const out1 = document.getElementById('output1');
        function fun1() { 
            out1.innerHTML = txt1.value;    
        }
        btn1.addEventListener('click',fun1);
    </script>
    <script>
        // On button click 
// only for page 1 
const disease = [false,false,false,false,false];
const have_disease = [false,false,false,false,false,false];
const ans = [];
var index = 0;
var d1=0;
var d2=0;
var d3=0;
var d4=0;
var d5=0;
var d6=0;

// ORDER -: OCD , PTSD , Social anxiety , seperation ,gcd , panic
var d1total = 3;
var d2total = 14;
var d3total = 8;
var d4total = 4;
var d5total = 9;
var d6total = 5;

// for page 1 each question will have a different id
function question1(){
    document.getElementById('button1').addEventListener("click", function() { // ques 1 
        disease[0]=true;
        console.log("true");
     });
}
function question2(){
     document.getElementById('button1').addEventListener("click", function() { // ques 2
        disease[1]=true;
     });
}

function question3(){
     document.getElementById('button1').addEventListener("click", function() { // ques 3
        disease[2]=true;
     });
}
function question4(){
     document.getElementById('button1').addEventListener("click", function() { // ques 4
        disease[3]=true;
     });
}
function question5(){
     document.getElementById('button1').addEventListener("click", function() { // ques 5 for gcd and panic
        disease[4]=true;
     });
}


// on clicking submit button
function submit() { // seperation
    var flag=0;
    for (index = 0; index < disease.length; index++) {
        const element = disease[index];
        if(element==true){
            // on click
            var string = "./p"+toString(index+2)+".html"; // /page(no.).html
            index++;
            consol.log(string);
            window.location.href="./p3.html"; 
            flag=1;
            break;
        }
    }
    if(flag==1){
        check();
    }
}

// for next web pages

function page1buttons(){
    document.getElementById('button1').addEventListener("click", function() { // for ocd
        d1++;
     });
}

function page2buttons(){
    document.getElementById('button1').addEventListener("click", function() { // for PTSD
        d2++;
     });
}

function page3buttons(){
    document.getElementById('button1').addEventListener("click", function() { // for social anxiety
        d3++;
     });
}

function page4buttons(){
    document.getElementById('button1').addEventListener("click", function() { // seperation
        d4++;
     });
}

function page5buttons(){
    document.getElementById('button1').addEventListener("click", function() { // for gad 
        d5++;
     });
    // do not have the function name "next" in the submit button
}

function page6buttons(){
    document.getElementById('button1').addEventListener("click", function() { // for panic 
        d6++;
     });
    check();
}

// on clicking next in the web page

function forPage5(){
    window.location.href="./page6.html" ;
}

function next(){
    var flag=0;
    for(let i=index ;i < disease.length ; i++){
        const element = disease[i];
        if(element==true){
            // on click
            var string = "./p"+toString(3)+".html"; // /page(no.).html
            i++;
            index=i;
            window.location.href=string;
            flag=1; 
            break;
        }
     }
    if(flag==0){
        check();
    }
}

function check(){
    if((d1/d1total)*100 >= 75){
        have_disease[0]=true;
        ans.push("You have Obsessive-Compulsive Disorder(OCD).")
    }
    if((d2/d2total)*100 >= 75){
        have_disease[1]=true;
        ans.push("You have Post-traumatic stress disorder(PTSD).")
    }
    if((d3/d3total)*100 >= 75){
        have_disease[2]=true;
        ans.push("You have Social anxiety diorder.");
    }
    if((d4/d4total)*100 >= 75){
        have_disease[3]=true;
        ans.push("You have seperation disorder.");
    }
    if((d5/d5total)*100 >= 75){
        have_disease[4]=true;
        ans.push("You have Generalized Anxiety Disorder.")
    }
    if((d6/d6total)*100 >= 75){
        have_disease[5]=true;
        ans.push("Panic Disorder.")
    }
}

    </script>
</body>

</html>